/*******************************************************************************
** layout.h (screen layout widget positions)
*******************************************************************************/

#ifndef LAYOUT_H
#define LAYOUT_H

enum
{
  LAYOUT_PANEL_TYPE_1 = 1, 
  LAYOUT_PANEL_TYPE_2 
};

enum
{
  LAYOUT_BUTTON_STATE_OFF = 0, 
  LAYOUT_BUTTON_STATE_ON 
};

enum
{
  LAYOUT_TEXT_BOX_STATE_NORMAL = 0, 
  LAYOUT_TEXT_BOX_STATE_HIGHLIGHT 
};

enum
{
  LAYOUT_PARAM_TYPE_SLIDER = 0, 
  LAYOUT_PARAM_TYPE_ARROWS, 
  LAYOUT_PARAM_TYPE_RADIO, 
  LAYOUT_PARAM_TYPE_FLAG 
};

/* top panel */
enum
{
  LAYOUT_TOP_PANEL_BUTTON_CART = 0, 
  LAYOUT_TOP_PANEL_BUTTON_INSTRUMENTS, 
  LAYOUT_TOP_PANEL_BUTTON_SONG, 
  LAYOUT_TOP_PANEL_BUTTON_MIXER, 
  LAYOUT_TOP_PANEL_BUTTON_SOUND_FX, 
  LAYOUT_TOP_PANEL_BUTTON_DPCM, 
  LAYOUT_NUM_TOP_PANEL_BUTTONS 
};

enum
{
  LAYOUT_TOP_PANEL_HEADER_NAME = 0,
  LAYOUT_TOP_PANEL_HEADER_VERSION, 
  LAYOUT_NUM_TOP_PANEL_HEADERS 
};

/* cart screen */
enum
{
  LAYOUT_CART_BUTTON_LOAD_CART = 0, 
  LAYOUT_CART_BUTTON_SAVE_CART, 
  LAYOUT_CART_BUTTON_COPY_PATCH, 
  LAYOUT_CART_BUTTON_ZAP_PATCH, 
  LAYOUT_NUM_CART_BUTTONS 
};

enum
{
  LAYOUT_CART_TEXT_BOX_CART_NAME = 0, 
  LAYOUT_CART_TEXT_BOX_PATCH_NAME, 
  LAYOUT_NUM_CART_TEXT_BOXES 
};

enum
{
  LAYOUT_CART_HEADER_OSC_1 = 0, 
  LAYOUT_CART_HEADER_OSC_2, 
  LAYOUT_CART_HEADER_OSC_3, 
  LAYOUT_CART_HEADER_ENV_1, 
  LAYOUT_CART_HEADER_ENV_2, 
  LAYOUT_CART_HEADER_ENV_3, 
  LAYOUT_CART_HEADER_VIBRATO, 
  LAYOUT_CART_HEADER_TREMOLO, 
  LAYOUT_CART_HEADER_CHORUS, 
  LAYOUT_CART_HEADER_BOOST, 
  LAYOUT_CART_HEADER_VELOCITY, 
  LAYOUT_CART_HEADER_FILTERS, 
  LAYOUT_CART_HEADER_PITCH_ENV, 
  LAYOUT_CART_HEADER_PITCH_WHEEL, 
  LAYOUT_CART_HEADER_ARPEGGIO, 
  LAYOUT_CART_HEADER_PORTAMENTO, 
  LAYOUT_CART_HEADER_MOD_WHEEL, 
  LAYOUT_CART_HEADER_AFTERTOUCH, 
  LAYOUT_CART_HEADER_EXP_PEDAL, 
  LAYOUT_NUM_CART_HEADERS 
};

enum
{
  LAYOUT_CART_PARAM_CART_NUMBER = 0, 
  LAYOUT_CART_PARAM_PATCH_NUMBER, 
  LAYOUT_CART_PARAM_ALGORITHM, 
  LAYOUT_CART_PARAM_OSC_SYNC, 
  LAYOUT_CART_PARAM_OSC_1_WAVEFORM, 
  LAYOUT_CART_PARAM_OSC_1_PHI, 
  LAYOUT_CART_PARAM_OSC_1_FREQ_MODE, 
  LAYOUT_CART_PARAM_OSC_1_MULTIPLE, 
  LAYOUT_CART_PARAM_OSC_1_DIVISOR, 
  LAYOUT_CART_PARAM_OSC_1_OCTAVE, 
  LAYOUT_CART_PARAM_OSC_1_NOTE, 
  LAYOUT_CART_PARAM_OSC_1_DETUNE, 
  LAYOUT_CART_PARAM_OSC_1_ROUTING_VIBRATO, 
  LAYOUT_CART_PARAM_OSC_1_ROUTING_PITCH_ENV, 
  LAYOUT_CART_PARAM_OSC_1_ROUTING_PITCH_WHEEL, 
  LAYOUT_CART_PARAM_OSC_2_WAVEFORM, 
  LAYOUT_CART_PARAM_OSC_2_PHI, 
  LAYOUT_CART_PARAM_OSC_2_FREQ_MODE, 
  LAYOUT_CART_PARAM_OSC_2_MULTIPLE, 
  LAYOUT_CART_PARAM_OSC_2_DIVISOR, 
  LAYOUT_CART_PARAM_OSC_2_OCTAVE, 
  LAYOUT_CART_PARAM_OSC_2_NOTE, 
  LAYOUT_CART_PARAM_OSC_2_DETUNE, 
  LAYOUT_CART_PARAM_OSC_2_ROUTING_VIBRATO, 
  LAYOUT_CART_PARAM_OSC_2_ROUTING_PITCH_ENV, 
  LAYOUT_CART_PARAM_OSC_2_ROUTING_PITCH_WHEEL, 
  LAYOUT_CART_PARAM_OSC_3_WAVEFORM, 
  LAYOUT_CART_PARAM_OSC_3_PHI, 
  LAYOUT_CART_PARAM_OSC_3_FREQ_MODE, 
  LAYOUT_CART_PARAM_OSC_3_MULTIPLE, 
  LAYOUT_CART_PARAM_OSC_3_DIVISOR, 
  LAYOUT_CART_PARAM_OSC_3_OCTAVE, 
  LAYOUT_CART_PARAM_OSC_3_NOTE, 
  LAYOUT_CART_PARAM_OSC_3_DETUNE, 
  LAYOUT_CART_PARAM_OSC_3_ROUTING_VIBRATO, 
  LAYOUT_CART_PARAM_OSC_3_ROUTING_PITCH_ENV, 
  LAYOUT_CART_PARAM_OSC_3_ROUTING_PITCH_WHEEL, 
  LAYOUT_CART_PARAM_ENV_1_ATTACK, 
  LAYOUT_CART_PARAM_ENV_1_DECAY, 
  LAYOUT_CART_PARAM_ENV_1_SUSTAIN, 
  LAYOUT_CART_PARAM_ENV_1_RELEASE, 
  LAYOUT_CART_PARAM_ENV_1_AMPLITUDE, 
  LAYOUT_CART_PARAM_ENV_1_HOLD_LEVEL, 
  LAYOUT_CART_PARAM_ENV_1_HOLD_MODE, 
  LAYOUT_CART_PARAM_ENV_1_RATE_KS, 
  LAYOUT_CART_PARAM_ENV_1_LEVEL_KS, 
  LAYOUT_CART_PARAM_ENV_1_ROUTING_TREMOLO, 
  LAYOUT_CART_PARAM_ENV_1_ROUTING_BOOST, 
  LAYOUT_CART_PARAM_ENV_1_ROUTING_VELOCITY, 
  LAYOUT_CART_PARAM_ENV_2_ATTACK, 
  LAYOUT_CART_PARAM_ENV_2_DECAY, 
  LAYOUT_CART_PARAM_ENV_2_SUSTAIN, 
  LAYOUT_CART_PARAM_ENV_2_RELEASE, 
  LAYOUT_CART_PARAM_ENV_2_AMPLITUDE, 
  LAYOUT_CART_PARAM_ENV_2_HOLD_LEVEL, 
  LAYOUT_CART_PARAM_ENV_2_HOLD_MODE, 
  LAYOUT_CART_PARAM_ENV_2_RATE_KS, 
  LAYOUT_CART_PARAM_ENV_2_LEVEL_KS, 
  LAYOUT_CART_PARAM_ENV_2_ROUTING_TREMOLO, 
  LAYOUT_CART_PARAM_ENV_2_ROUTING_BOOST, 
  LAYOUT_CART_PARAM_ENV_2_ROUTING_VELOCITY, 
  LAYOUT_CART_PARAM_ENV_3_ATTACK, 
  LAYOUT_CART_PARAM_ENV_3_DECAY, 
  LAYOUT_CART_PARAM_ENV_3_SUSTAIN, 
  LAYOUT_CART_PARAM_ENV_3_RELEASE, 
  LAYOUT_CART_PARAM_ENV_3_AMPLITUDE, 
  LAYOUT_CART_PARAM_ENV_3_HOLD_LEVEL, 
  LAYOUT_CART_PARAM_ENV_3_HOLD_MODE, 
  LAYOUT_CART_PARAM_ENV_3_RATE_KS, 
  LAYOUT_CART_PARAM_ENV_3_LEVEL_KS, 
  LAYOUT_CART_PARAM_ENV_3_ROUTING_TREMOLO, 
  LAYOUT_CART_PARAM_ENV_3_ROUTING_BOOST, 
  LAYOUT_CART_PARAM_ENV_3_ROUTING_VELOCITY, 
  LAYOUT_CART_PARAM_VIBRATO_WAVEFORM, 
  LAYOUT_CART_PARAM_VIBRATO_DELAY, 
  LAYOUT_CART_PARAM_VIBRATO_SPEED, 
  LAYOUT_CART_PARAM_VIBRATO_DEPTH, 
  LAYOUT_CART_PARAM_VIBRATO_SENSITIVITY, 
  LAYOUT_CART_PARAM_VIBRATO_SYNC, 
  LAYOUT_CART_PARAM_VIBRATO_POLARITY, 
  LAYOUT_CART_PARAM_TREMOLO_WAVEFORM, 
  LAYOUT_CART_PARAM_TREMOLO_DELAY, 
  LAYOUT_CART_PARAM_TREMOLO_SPEED, 
  LAYOUT_CART_PARAM_TREMOLO_DEPTH, 
  LAYOUT_CART_PARAM_TREMOLO_SENSITIVITY, 
  LAYOUT_CART_PARAM_TREMOLO_SYNC, 
  LAYOUT_CART_PARAM_CHORUS_WAVEFORM, 
  LAYOUT_CART_PARAM_CHORUS_DELAY, 
  LAYOUT_CART_PARAM_CHORUS_SPEED, 
  LAYOUT_CART_PARAM_CHORUS_DEPTH, 
  LAYOUT_CART_PARAM_CHORUS_SENSITIVITY, 
  LAYOUT_CART_PARAM_CHORUS_SYNC, 
  LAYOUT_CART_PARAM_BOOST_SENSITIVITY, 
  LAYOUT_CART_PARAM_VELOCITY_SENSITIVITY, 
  LAYOUT_CART_PARAM_FILTERS_HIGHPASS, 
  LAYOUT_CART_PARAM_FILTERS_LOWPASS, 
  LAYOUT_CART_PARAM_PITCH_ENV_ATTACK, 
  LAYOUT_CART_PARAM_PITCH_ENV_DECAY, 
  LAYOUT_CART_PARAM_PITCH_ENV_RELEASE, 
  LAYOUT_CART_PARAM_PITCH_ENV_MAXIMUM, 
  LAYOUT_CART_PARAM_PITCH_ENV_FINALE, 
  LAYOUT_CART_PARAM_PITCH_WHEEL_MODE, 
  LAYOUT_CART_PARAM_PITCH_WHEEL_RANGE, 
  LAYOUT_CART_PARAM_ARPEGGIO_MODE, 
  LAYOUT_CART_PARAM_ARPEGGIO_PATTERN, 
  LAYOUT_CART_PARAM_ARPEGGIO_OCTAVES, 
  LAYOUT_CART_PARAM_ARPEGGIO_SPEED, 
  LAYOUT_CART_PARAM_PORTAMENTO_MODE, 
  LAYOUT_CART_PARAM_PORTAMENTO_LEGATO, 
  LAYOUT_CART_PARAM_PORTAMENTO_SPEED, 
  LAYOUT_CART_PARAM_MOD_WHEEL_ROUTING_VIBRATO, 
  LAYOUT_CART_PARAM_MOD_WHEEL_ROUTING_TREMOLO, 
  LAYOUT_CART_PARAM_MOD_WHEEL_ROUTING_BOOST, 
  LAYOUT_CART_PARAM_MOD_WHEEL_ROUTING_CHORUS, 
  LAYOUT_CART_PARAM_AFTERTOUCH_ROUTING_VIBRATO, 
  LAYOUT_CART_PARAM_AFTERTOUCH_ROUTING_TREMOLO, 
  LAYOUT_CART_PARAM_AFTERTOUCH_ROUTING_BOOST, 
  LAYOUT_CART_PARAM_AFTERTOUCH_ROUTING_CHORUS, 
  LAYOUT_CART_PARAM_EXP_PEDAL_ROUTING_VIBRATO, 
  LAYOUT_CART_PARAM_EXP_PEDAL_ROUTING_TREMOLO, 
  LAYOUT_CART_PARAM_EXP_PEDAL_ROUTING_BOOST, 
  LAYOUT_CART_PARAM_EXP_PEDAL_ROUTING_CHORUS, 
  LAYOUT_NUM_CART_PARAMS 
};

/* audition panel */
enum
{
  LAYOUT_AUDITION_PARAM_OCTAVE = 0, 
  LAYOUT_AUDITION_PARAM_VELOCITY, 
  LAYOUT_AUDITION_PARAM_PITCH_WHEEL,
  LAYOUT_AUDITION_PARAM_MOD_WHEEL, 
  LAYOUT_AUDITION_PARAM_AFTERTOUCH, 
  LAYOUT_AUDITION_PARAM_EXP_PEDAL, 
  LAYOUT_NUM_AUDITION_PARAMS 
};

/* screen center (in half-cells) */
#define LAYOUT_OVERSCAN_WIDTH   400
#define LAYOUT_OVERSCAN_HEIGHT  224

#define LAYOUT_OVERSCAN_CENTER_X  (LAYOUT_OVERSCAN_WIDTH / 2)
#define LAYOUT_OVERSCAN_CENTER_Y  (LAYOUT_OVERSCAN_HEIGHT / 2)

/* screen areas positions & sizes */
#define LAYOUT_SCROLLED_POSITION_Y(center_y)                                   \
  (center_y - G_current_scroll_amount)

#define LAYOUT_TOP_PANEL_AREA_X            0
#define LAYOUT_TOP_PANEL_AREA_Y          -88
#define LAYOUT_TOP_PANEL_AREA_WIDTH       50
#define LAYOUT_TOP_PANEL_AREA_HEIGHT       6

#define LAYOUT_VERT_SCROLLBAR_TRACK_X           196
#define LAYOUT_VERT_SCROLLBAR_TRACK_Y            20
#define LAYOUT_VERT_SCROLLBAR_TRACK_WIDTH         1
#define LAYOUT_VERT_SCROLLBAR_TRACK_HEIGHT       19

#define LAYOUT_VERT_SCROLLBAR_UP_ARROW_X        196
#define LAYOUT_VERT_SCROLLBAR_UP_ARROW_Y        -60
#define LAYOUT_VERT_SCROLLBAR_UP_ARROW_WIDTH      1
#define LAYOUT_VERT_SCROLLBAR_UP_ARROW_HEIGHT     1

#define LAYOUT_VERT_SCROLLBAR_DOWN_ARROW_X      196
#define LAYOUT_VERT_SCROLLBAR_DOWN_ARROW_Y      100
#define LAYOUT_VERT_SCROLLBAR_DOWN_ARROW_WIDTH    1
#define LAYOUT_VERT_SCROLLBAR_DOWN_ARROW_HEIGHT   1

#define LAYOUT_SCROLLBAR_BLOCK_X         196
#define LAYOUT_SCROLLBAR_BLOCK_Y         108
#define LAYOUT_SCROLLBAR_BLOCK_WIDTH       1
#define LAYOUT_SCROLLBAR_BLOCK_HEIGHT      1

#define LAYOUT_CART_MAIN_AREA_X           -4
#define LAYOUT_CART_MAIN_AREA_Y            8
#define LAYOUT_CART_MAIN_AREA_WIDTH       49
#define LAYOUT_CART_MAIN_AREA_HEIGHT      18

#define LAYOUT_CART_AUDITION_PANEL_X      -4
#define LAYOUT_CART_AUDITION_PANEL_Y      96
#define LAYOUT_CART_AUDITION_PANEL_WIDTH  49
#define LAYOUT_CART_AUDITION_PANEL_HEIGHT  4

/* cart edit screen regions */
#define LAYOUT_CART_BUTTON_OR_TEXT_BOX_IS_IN_MAIN_AREA(center_y)                                                    \
  ( (LAYOUT_SCROLLED_POSITION_Y(center_y) - 4 * 2 > LAYOUT_CART_MAIN_AREA_Y - 4 * LAYOUT_CART_MAIN_AREA_HEIGHT) &&  \
    (LAYOUT_SCROLLED_POSITION_Y(center_y) + 4 * 2 < LAYOUT_CART_MAIN_AREA_Y + 4 * LAYOUT_CART_MAIN_AREA_HEIGHT))

#define LAYOUT_CART_BUTTON_OR_TEXT_BOX_IS_NOT_IN_MAIN_AREA(center_y)           \
  (!(LAYOUT_CART_BUTTON_OR_TEXT_BOX_IS_IN_MAIN_AREA(center_y)))

#define LAYOUT_CART_HEADER_OR_PARAM_IS_IN_MAIN_AREA(center_y)                                                       \
  ( (LAYOUT_SCROLLED_POSITION_Y(center_y) - 4 * 1 > LAYOUT_CART_MAIN_AREA_Y - 4 * LAYOUT_CART_MAIN_AREA_HEIGHT) &&  \
    (LAYOUT_SCROLLED_POSITION_Y(center_y) + 4 * 1 < LAYOUT_CART_MAIN_AREA_Y + 4 * LAYOUT_CART_MAIN_AREA_HEIGHT))

#define LAYOUT_CART_HEADER_OR_PARAM_IS_NOT_IN_MAIN_AREA(center_y)              \
  (!(LAYOUT_CART_HEADER_OR_PARAM_IS_IN_MAIN_AREA(center_y)))

/* vertical scrollbar amounts */
#define LAYOUT_CART_MAX_SCROLL_AMOUNT         528
#define LAYOUT_INSTRUMENTS_MAX_SCROLL_AMOUNT    0
#define LAYOUT_SONG_MAX_SCROLL_AMOUNT           0
#define LAYOUT_MIXER_MAX_SCROLL_AMOUNT          0
#define LAYOUT_SOUND_FX_MAX_SCROLL_AMOUNT       0
#define LAYOUT_DPCM_MAX_SCROLL_AMOUNT           0

/* top panel header positions */
#define LAYOUT_TOP_PANEL_HEADER_NAME_X      -20
#define LAYOUT_TOP_PANEL_HEADER_NAME_Y      -96

#define LAYOUT_TOP_PANEL_HEADER_VERSION_X    36
#define LAYOUT_TOP_PANEL_HEADER_VERSION_Y   -96

/* top panel button positions & sizes */
#define LAYOUT_TOP_PANEL_BUTTON_CART_X             -168
#define LAYOUT_TOP_PANEL_BUTTON_CART_Y              -80
#define LAYOUT_TOP_PANEL_BUTTON_CART_WIDTH            6

#define LAYOUT_TOP_PANEL_BUTTON_INSTRUMENTS_X       -92
#define LAYOUT_TOP_PANEL_BUTTON_INSTRUMENTS_Y       LAYOUT_TOP_PANEL_BUTTON_CART_Y
#define LAYOUT_TOP_PANEL_BUTTON_INSTRUMENTS_WIDTH    13

#define LAYOUT_TOP_PANEL_BUTTON_SONG_X              -16
#define LAYOUT_TOP_PANEL_BUTTON_SONG_Y              LAYOUT_TOP_PANEL_BUTTON_CART_Y
#define LAYOUT_TOP_PANEL_BUTTON_SONG_WIDTH            6

#define LAYOUT_TOP_PANEL_BUTTON_MIXER_X              36
#define LAYOUT_TOP_PANEL_BUTTON_MIXER_Y             LAYOUT_TOP_PANEL_BUTTON_CART_Y
#define LAYOUT_TOP_PANEL_BUTTON_MIXER_WIDTH           7

#define LAYOUT_TOP_PANEL_BUTTON_SOUND_FX_X          104
#define LAYOUT_TOP_PANEL_BUTTON_SOUND_FX_Y          LAYOUT_TOP_PANEL_BUTTON_CART_Y
#define LAYOUT_TOP_PANEL_BUTTON_SOUND_FX_WIDTH       10

#define LAYOUT_TOP_PANEL_BUTTON_DPCM_X              168
#define LAYOUT_TOP_PANEL_BUTTON_DPCM_Y              LAYOUT_TOP_PANEL_BUTTON_CART_Y
#define LAYOUT_TOP_PANEL_BUTTON_DPCM_WIDTH            6

/* cart edit position macros */
#define LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(last_header, row)             \
  (last_header + 16 * 2 + 12 * row + 4)

#define LAYOUT_CART_COMPUTE_PARAM_Y(header_name, row)                   \
  (header_name + 16 * 1 + 12 * row)

/* cart edit buttons, headers, and adjustable parameters */
#define LAYOUT_CART_WIDE_COLUMN_1_CENTER_X  -132
#define LAYOUT_CART_WIDE_COLUMN_2_CENTER_X    -4
#define LAYOUT_CART_WIDE_COLUMN_3_CENTER_X   124

/* cart number */
#define LAYOUT_CART_CART_NUMBER_X             LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_CART_NUMBER_Y            -52

#define LAYOUT_CART_TEXT_BOX_CART_NAME_WIDTH  15
#define LAYOUT_CART_TEXT_BOX_CART_NAME_X      LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_TEXT_BOX_CART_NAME_Y      LAYOUT_CART_CART_NUMBER_Y

#define LAYOUT_CART_BUTTON_LOAD_CART_WIDTH     6
#define LAYOUT_CART_BUTTON_LOAD_CART_X        (LAYOUT_CART_WIDE_COLUMN_3_CENTER_X - 4 * 7)
#define LAYOUT_CART_BUTTON_LOAD_CART_Y        LAYOUT_CART_CART_NUMBER_Y

#define LAYOUT_CART_BUTTON_SAVE_CART_WIDTH     6
#define LAYOUT_CART_BUTTON_SAVE_CART_X        (LAYOUT_CART_WIDE_COLUMN_3_CENTER_X + 4 * 7)
#define LAYOUT_CART_BUTTON_SAVE_CART_Y        LAYOUT_CART_CART_NUMBER_Y

/* patch number */
#define LAYOUT_CART_PATCH_NUMBER_X            LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_PATCH_NUMBER_Y            (LAYOUT_CART_CART_NUMBER_Y + 16)

#define LAYOUT_CART_TEXT_BOX_PATCH_NAME_WIDTH 15
#define LAYOUT_CART_TEXT_BOX_PATCH_NAME_X     LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_TEXT_BOX_PATCH_NAME_Y     LAYOUT_CART_PATCH_NUMBER_Y

#define LAYOUT_CART_BUTTON_COPY_PATCH_WIDTH    6
#define LAYOUT_CART_BUTTON_COPY_PATCH_X       (LAYOUT_CART_WIDE_COLUMN_3_CENTER_X - 4 * 7)
#define LAYOUT_CART_BUTTON_COPY_PATCH_Y       LAYOUT_CART_PATCH_NUMBER_Y

#define LAYOUT_CART_BUTTON_ZAP_PATCH_WIDTH     6
#define LAYOUT_CART_BUTTON_ZAP_PATCH_X        (LAYOUT_CART_WIDE_COLUMN_3_CENTER_X + 4 * 7)
#define LAYOUT_CART_BUTTON_ZAP_PATCH_Y        LAYOUT_CART_PATCH_NUMBER_Y

/* divider */
#define LAYOUT_CART_MAIN_DIVIDER_X            -4
#define LAYOUT_CART_MAIN_DIVIDER_Y            (LAYOUT_CART_PATCH_NUMBER_Y + 16)
#define LAYOUT_CART_MAIN_DIVIDER_WIDTH        46

/* headers & parameters */
#define LAYOUT_CART_ALGORITHM_X                   LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_ALGORITHM_Y                   (LAYOUT_CART_MAIN_DIVIDER_Y + 16)

#define LAYOUT_CART_OSC_SYNC_X                    LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_OSC_SYNC_Y                    LAYOUT_CART_ALGORITHM_Y

#define LAYOUT_CART_HEADER_OSC_1_X                LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_OSC_1_Y                (LAYOUT_CART_ALGORITHM_Y + 20)

#define LAYOUT_CART_OSC_1_WAVEFORM_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 0)
#define LAYOUT_CART_OSC_1_PHI_Y                   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 1)
#define LAYOUT_CART_OSC_1_FREQ_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 2)
#define LAYOUT_CART_OSC_1_MULTIPLE_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 3)
#define LAYOUT_CART_OSC_1_DIVISOR_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 4)
#define LAYOUT_CART_OSC_1_DETUNE_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 5)
#define LAYOUT_CART_OSC_1_ROUTING_VIBRATO_Y       LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 6)
#define LAYOUT_CART_OSC_1_ROUTING_PITCH_ENV_Y     LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 7)
#define LAYOUT_CART_OSC_1_ROUTING_PITCH_WHEEL_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 8)

#define LAYOUT_CART_OSC_1_OCTAVE_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 3)
#define LAYOUT_CART_OSC_1_NOTE_Y                  LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_1_Y, 4)

#define LAYOUT_CART_HEADER_OSC_2_X                LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_HEADER_OSC_2_Y                LAYOUT_CART_HEADER_OSC_1_Y

#define LAYOUT_CART_OSC_2_WAVEFORM_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 0)
#define LAYOUT_CART_OSC_2_PHI_Y                   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 1)
#define LAYOUT_CART_OSC_2_FREQ_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 2)
#define LAYOUT_CART_OSC_2_MULTIPLE_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 3)
#define LAYOUT_CART_OSC_2_DIVISOR_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 4)
#define LAYOUT_CART_OSC_2_DETUNE_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 5)
#define LAYOUT_CART_OSC_2_ROUTING_VIBRATO_Y       LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 6)
#define LAYOUT_CART_OSC_2_ROUTING_PITCH_ENV_Y     LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 7)
#define LAYOUT_CART_OSC_2_ROUTING_PITCH_WHEEL_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 8)

#define LAYOUT_CART_OSC_2_OCTAVE_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 3)
#define LAYOUT_CART_OSC_2_NOTE_Y                  LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_2_Y, 4)

#define LAYOUT_CART_HEADER_OSC_3_X                LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_CART_HEADER_OSC_3_Y                LAYOUT_CART_HEADER_OSC_1_Y

#define LAYOUT_CART_OSC_3_WAVEFORM_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 0)
#define LAYOUT_CART_OSC_3_PHI_Y                   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 1)
#define LAYOUT_CART_OSC_3_FREQ_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 2)
#define LAYOUT_CART_OSC_3_MULTIPLE_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 3)
#define LAYOUT_CART_OSC_3_DIVISOR_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 4)
#define LAYOUT_CART_OSC_3_DETUNE_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 5)
#define LAYOUT_CART_OSC_3_ROUTING_VIBRATO_Y       LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 6)
#define LAYOUT_CART_OSC_3_ROUTING_PITCH_ENV_Y     LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 7)
#define LAYOUT_CART_OSC_3_ROUTING_PITCH_WHEEL_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 8)

#define LAYOUT_CART_OSC_3_OCTAVE_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 3)
#define LAYOUT_CART_OSC_3_NOTE_Y                  LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_OSC_3_Y, 4)

#define LAYOUT_CART_HEADER_ENV_1_X                LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_ENV_1_Y                LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_OSC_1_Y, 8)

#define LAYOUT_CART_ENV_1_ATTACK_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 0)
#define LAYOUT_CART_ENV_1_DECAY_Y                 LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 1)
#define LAYOUT_CART_ENV_1_SUSTAIN_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 2)
#define LAYOUT_CART_ENV_1_RELEASE_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 3)
#define LAYOUT_CART_ENV_1_AMPLITUDE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 4)
#define LAYOUT_CART_ENV_1_HOLD_LEVEL_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 5)
#define LAYOUT_CART_ENV_1_HOLD_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 6)
#define LAYOUT_CART_ENV_1_RATE_KS_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 7)
#define LAYOUT_CART_ENV_1_LEVEL_KS_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 8)
#define LAYOUT_CART_ENV_1_ROUTING_TREMOLO_Y       LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 9)
#define LAYOUT_CART_ENV_1_ROUTING_BOOST_Y         LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 10)
#define LAYOUT_CART_ENV_1_ROUTING_VELOCITY_Y      LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_1_Y, 11)

#define LAYOUT_CART_HEADER_ENV_2_X                LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_HEADER_ENV_2_Y                LAYOUT_CART_HEADER_ENV_1_Y

#define LAYOUT_CART_ENV_2_ATTACK_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 0)
#define LAYOUT_CART_ENV_2_DECAY_Y                 LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 1)
#define LAYOUT_CART_ENV_2_SUSTAIN_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 2)
#define LAYOUT_CART_ENV_2_RELEASE_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 3)
#define LAYOUT_CART_ENV_2_AMPLITUDE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 4)
#define LAYOUT_CART_ENV_2_HOLD_LEVEL_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 5)
#define LAYOUT_CART_ENV_2_HOLD_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 6)
#define LAYOUT_CART_ENV_2_RATE_KS_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 7)
#define LAYOUT_CART_ENV_2_LEVEL_KS_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 8)
#define LAYOUT_CART_ENV_2_ROUTING_TREMOLO_Y       LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 9)
#define LAYOUT_CART_ENV_2_ROUTING_BOOST_Y         LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 10)
#define LAYOUT_CART_ENV_2_ROUTING_VELOCITY_Y      LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_2_Y, 11)

#define LAYOUT_CART_HEADER_ENV_3_X                LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_CART_HEADER_ENV_3_Y                LAYOUT_CART_HEADER_ENV_1_Y

#define LAYOUT_CART_ENV_3_ATTACK_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 0)
#define LAYOUT_CART_ENV_3_DECAY_Y                 LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 1)
#define LAYOUT_CART_ENV_3_SUSTAIN_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 2)
#define LAYOUT_CART_ENV_3_RELEASE_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 3)
#define LAYOUT_CART_ENV_3_AMPLITUDE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 4)
#define LAYOUT_CART_ENV_3_HOLD_LEVEL_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 5)
#define LAYOUT_CART_ENV_3_HOLD_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 6)
#define LAYOUT_CART_ENV_3_RATE_KS_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 7)
#define LAYOUT_CART_ENV_3_LEVEL_KS_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 8)
#define LAYOUT_CART_ENV_3_ROUTING_TREMOLO_Y       LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 9)
#define LAYOUT_CART_ENV_3_ROUTING_BOOST_Y         LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 10)
#define LAYOUT_CART_ENV_3_ROUTING_VELOCITY_Y      LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ENV_3_Y, 11)

#define LAYOUT_CART_HEADER_VIBRATO_X              LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_VIBRATO_Y              LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_ENV_1_Y, 11)

#define LAYOUT_CART_VIBRATO_WAVEFORM_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 0)
#define LAYOUT_CART_VIBRATO_DELAY_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 1)
#define LAYOUT_CART_VIBRATO_SPEED_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 2)
#define LAYOUT_CART_VIBRATO_DEPTH_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 3)
#define LAYOUT_CART_VIBRATO_SENSITIVITY_Y         LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 4)
#define LAYOUT_CART_VIBRATO_SYNC_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 5)
#define LAYOUT_CART_VIBRATO_POLARITY_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 6)

#define LAYOUT_CART_HEADER_TREMOLO_X              LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_HEADER_TREMOLO_Y              LAYOUT_CART_HEADER_VIBRATO_Y

#define LAYOUT_CART_TREMOLO_WAVEFORM_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 0)
#define LAYOUT_CART_TREMOLO_DELAY_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 1)
#define LAYOUT_CART_TREMOLO_SPEED_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 2)
#define LAYOUT_CART_TREMOLO_DEPTH_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 3)
#define LAYOUT_CART_TREMOLO_SENSITIVITY_Y         LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 4)
#define LAYOUT_CART_TREMOLO_SYNC_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 5)

#define LAYOUT_CART_HEADER_CHORUS_X               LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_CART_HEADER_CHORUS_Y               LAYOUT_CART_HEADER_VIBRATO_Y

#define LAYOUT_CART_CHORUS_WAVEFORM_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_CHORUS_Y, 0)
#define LAYOUT_CART_CHORUS_DELAY_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_CHORUS_Y, 1)
#define LAYOUT_CART_CHORUS_SPEED_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_CHORUS_Y, 2)
#define LAYOUT_CART_CHORUS_DEPTH_Y                LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_CHORUS_Y, 3)
#define LAYOUT_CART_CHORUS_SENSITIVITY_Y          LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_CHORUS_Y, 4)
#define LAYOUT_CART_CHORUS_SYNC_Y                 LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_CHORUS_Y, 5)

#define LAYOUT_CART_HEADER_BOOST_X                LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_BOOST_Y                LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_VIBRATO_Y, 6)

#define LAYOUT_CART_BOOST_SENSITIVITY_Y           LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_BOOST_Y, 0)

#define LAYOUT_CART_HEADER_VELOCITY_X             LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_VELOCITY_Y             LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_BOOST_Y, 0)

#define LAYOUT_CART_VELOCITY_SENSITIVITY_Y        LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_VELOCITY_Y, 0)

#define LAYOUT_CART_HEADER_FILTERS_X              LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_FILTERS_Y              LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_VELOCITY_Y, 0)

#define LAYOUT_CART_FILTERS_HIGHPASS_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_FILTERS_Y, 0)
#define LAYOUT_CART_FILTERS_LOWPASS_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_FILTERS_Y, 1)

#define LAYOUT_CART_HEADER_PITCH_ENV_X            LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_HEADER_PITCH_ENV_Y            LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_TREMOLO_Y, 5)

#define LAYOUT_CART_PITCH_ENV_ATTACK_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_ENV_Y, 0)
#define LAYOUT_CART_PITCH_ENV_DECAY_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_ENV_Y, 1)
#define LAYOUT_CART_PITCH_ENV_RELEASE_Y           LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_ENV_Y, 2)
#define LAYOUT_CART_PITCH_ENV_MAXIMUM_Y           LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_ENV_Y, 3)
#define LAYOUT_CART_PITCH_ENV_FINALE_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_ENV_Y, 4)

#define LAYOUT_CART_HEADER_PITCH_WHEEL_X          LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_HEADER_PITCH_WHEEL_Y          LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_PITCH_ENV_Y, 4)

#define LAYOUT_CART_PITCH_WHEEL_MODE_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_WHEEL_Y, 0)
#define LAYOUT_CART_PITCH_WHEEL_RANGE_Y           LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PITCH_WHEEL_Y, 1)

#define LAYOUT_CART_HEADER_ARPEGGIO_X             LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_CART_HEADER_ARPEGGIO_Y             LAYOUT_CART_HEADER_PITCH_ENV_Y

#define LAYOUT_CART_ARPEGGIO_MODE_Y               LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ARPEGGIO_Y, 0)
#define LAYOUT_CART_ARPEGGIO_PATTERN_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ARPEGGIO_Y, 1)
#define LAYOUT_CART_ARPEGGIO_OCTAVES_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ARPEGGIO_Y, 2)
#define LAYOUT_CART_ARPEGGIO_SPEED_Y              LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_ARPEGGIO_Y, 3)

#define LAYOUT_CART_HEADER_PORTAMENTO_X           LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_CART_HEADER_PORTAMENTO_Y           LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_ARPEGGIO_Y, 3)

#define LAYOUT_CART_PORTAMENTO_MODE_Y             LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PORTAMENTO_Y, 0)
#define LAYOUT_CART_PORTAMENTO_LEGATO_Y           LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PORTAMENTO_Y, 1)
#define LAYOUT_CART_PORTAMENTO_SPEED_Y            LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_PORTAMENTO_Y, 2)

#define LAYOUT_CART_HEADER_MOD_WHEEL_X            LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_CART_HEADER_MOD_WHEEL_Y            LAYOUT_CART_COMPUTE_NEXT_HEADER_Y(LAYOUT_CART_HEADER_FILTERS_Y, 1)

#define LAYOUT_CART_MOD_WHEEL_ROUTING_VIBRATO_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_MOD_WHEEL_Y, 0)
#define LAYOUT_CART_MOD_WHEEL_ROUTING_TREMOLO_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_MOD_WHEEL_Y, 1)
#define LAYOUT_CART_MOD_WHEEL_ROUTING_BOOST_Y     LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_MOD_WHEEL_Y, 2)
#define LAYOUT_CART_MOD_WHEEL_ROUTING_CHORUS_Y    LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_MOD_WHEEL_Y, 3)

#define LAYOUT_CART_HEADER_AFTERTOUCH_X           LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_CART_HEADER_AFTERTOUCH_Y           LAYOUT_CART_HEADER_MOD_WHEEL_Y

#define LAYOUT_CART_AFTERTOUCH_ROUTING_VIBRATO_Y  LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_AFTERTOUCH_Y, 0)
#define LAYOUT_CART_AFTERTOUCH_ROUTING_TREMOLO_Y  LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_AFTERTOUCH_Y, 1)
#define LAYOUT_CART_AFTERTOUCH_ROUTING_BOOST_Y    LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_AFTERTOUCH_Y, 2)
#define LAYOUT_CART_AFTERTOUCH_ROUTING_CHORUS_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_AFTERTOUCH_Y, 3)

#define LAYOUT_CART_HEADER_EXP_PEDAL_X            LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_CART_HEADER_EXP_PEDAL_Y            LAYOUT_CART_HEADER_MOD_WHEEL_Y

#define LAYOUT_CART_EXP_PEDAL_ROUTING_VIBRATO_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_EXP_PEDAL_Y, 0)
#define LAYOUT_CART_EXP_PEDAL_ROUTING_TREMOLO_Y   LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_EXP_PEDAL_Y, 1)
#define LAYOUT_CART_EXP_PEDAL_ROUTING_BOOST_Y     LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_EXP_PEDAL_Y, 2)
#define LAYOUT_CART_EXP_PEDAL_ROUTING_CHORUS_Y    LAYOUT_CART_COMPUTE_PARAM_Y(LAYOUT_CART_HEADER_EXP_PEDAL_Y, 3)

/* audition panel parameters */
#define LAYOUT_AUDITION_OCTAVE_X        LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_AUDITION_OCTAVE_Y        90

#define LAYOUT_AUDITION_VELOCITY_X      LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_AUDITION_VELOCITY_Y      LAYOUT_AUDITION_OCTAVE_Y

#define LAYOUT_AUDITION_PITCH_WHEEL_X   LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_AUDITION_PITCH_WHEEL_Y   LAYOUT_AUDITION_OCTAVE_Y

#define LAYOUT_AUDITION_MOD_WHEEL_X     LAYOUT_CART_WIDE_COLUMN_1_CENTER_X
#define LAYOUT_AUDITION_MOD_WHEEL_Y     102

#define LAYOUT_AUDITION_AFTERTOUCH_X    LAYOUT_CART_WIDE_COLUMN_2_CENTER_X
#define LAYOUT_AUDITION_AFTERTOUCH_Y    LAYOUT_AUDITION_MOD_WHEEL_Y

#define LAYOUT_AUDITION_EXP_PEDAL_X     LAYOUT_CART_WIDE_COLUMN_3_CENTER_X
#define LAYOUT_AUDITION_EXP_PEDAL_Y     LAYOUT_AUDITION_MOD_WHEEL_Y

/* parameter types */
#define LAYOUT_PARAM_NAME_X         -48

#define LAYOUT_PARAM_SLIDER_VALUE_X -24
#define LAYOUT_PARAM_SLIDER_TRACK_X  24
#define LAYOUT_PARAM_SLIDER_WIDTH     9

#define LAYOUT_PARAM_ARROWS_LEFT_X  -24
#define LAYOUT_PARAM_ARROWS_VALUE_X  16
#define LAYOUT_PARAM_ARROWS_RIGHT_X  56

#define LAYOUT_PARAM_RADIO_BUTTON_X -24
#define LAYOUT_PARAM_RADIO_VALUE_X   16

typedef struct button
{
  int center_x;
  int center_y;

  int width;
  int state;
} button;

typedef struct text_box
{
  int center_x;
  int center_y;

  int width;
  int state;
} text_box;

typedef struct header
{
  int center_x;
  int center_y;
} header;

typedef struct param
{
  int type;

  int center_x;
  int center_y;

  short int lower_bound;
  short int upper_bound;
} param;

extern button   G_layout_top_panel_buttons[LAYOUT_NUM_TOP_PANEL_BUTTONS];
extern header   G_layout_top_panel_headers[LAYOUT_NUM_TOP_PANEL_HEADERS];

extern button   G_layout_cart_buttons[LAYOUT_NUM_CART_BUTTONS];
extern text_box G_layout_cart_text_boxes[LAYOUT_NUM_CART_TEXT_BOXES];
extern header   G_layout_cart_headers[LAYOUT_NUM_CART_HEADERS];
extern param    G_layout_cart_params[LAYOUT_NUM_CART_PARAMS];

extern param    G_layout_audition_params[LAYOUT_NUM_AUDITION_PARAMS];

/* function declarations */
short int layout_setup_all();

short int layout_reset_top_panel_button_states();

short int layout_reset_cart_button_and_text_box_states();

#endif
